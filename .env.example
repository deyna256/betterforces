# Copy this file to .env and configure your settings

# Redis configuration
# For local Redis instance: redis://localhost:6379/0
# For Docker compose (with container): redis://redis:6379/0
REDIS_URL=redis://redis:6379/0

# Development mode
# Set to true for hot reload, false for production
DEV_MODE=false

# Codeforces API configuration
CODEFORCES_API_BASE=https://codeforces.com/api

# Cache settings (in seconds)
# CACHE_TTL is deprecated, use CACHE_FRESH_TTL instead
CACHE_TTL=14400
# Fresh cache TTL - data is considered fresh and served immediately
CACHE_FRESH_TTL=14400
# Stale cache TTL - data can be served as stale while revalidating
CACHE_STALE_TTL=86400

# Worker settings
# Maximum requests per second to Codeforces API
# Recommended: 2-3 to avoid 429 errors from Codeforces rate limits
WORKER_RATE_LIMIT=2
# Redis queue key for worker tasks
WORKER_QUEUE_KEY=fetch_queue

# Task settings
# How long to keep task status in Redis (in seconds)
TASK_STATUS_TTL=300
# How long to keep pending task locks for deduplication (in seconds)
PENDING_TASK_TTL=60

# API Rate limiting settings (for BetterForces API, not Codeforces)
# Number of requests allowed per period
RATE_LIMIT_REQUESTS=100
# Period for rate limiting: 'second', 'minute', 'hour', or 'day'
RATE_LIMIT_PERIOD=hour

# Default user for testing
# Your Codeforces handle for testing or default user analytics
CODEFORCES_USER_HANDLE=tourist

# CORS settings (comma-separated origins)
# For local development with frontend on port 3000
CORS_ALLOWED_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]
