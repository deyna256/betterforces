# List all available commands
default:
    @just --list

# Install Python dependencies
install:
    uv sync

# Run all tests
test:
    uv run pytest

# Format code with ruff
format:
    uv run ruff format .

# Check code style with ruff
lint:
    uv run ruff check .

# Auto-fix linting issues
lintfix:
    uv run ruff check --fix .

# Run type checking with ty
typecheck:
    uv run ty check

# Run lint + typecheck
check:
    @uv run ruff check .
    @uv run ty check

# Clean cache files
clean:
    rm -rf .pytest_cache .ruff_cache __pycache__
    find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
    find . -type f -name "*.pyc" -delete 2>/dev/null || true
